!function(){function e(e,n,t,r){return[e,n,t,r,t,r]}function n(e,n,t){n&&"M"==(t||["M"])[0]&&e.push([n[1],n[2]])}function t(e){return function(e){var t,r,a=null,c=[],o=[];for(t=0;t<e.length;t++)"M"==(r=e[t])[0]?(n(c,a,r),c.push([r[1],-r[2]]),c.push([r[1],-r[2]])):"C"==r[0]&&(c.push([r[1],-r[2]]),c.push([r[5],-r[6]]),c.push([r[3],-r[4]])),a=r;for(n(c,a,null),t=0;t<c.length;t+=3)o.push(["C",c[t+0][0],c[t+0][1],c[t+1][0],c[t+1][1],c[t+2][0],c[t+2][1]]);return o}(p(e))}function r(e,n,t,r,a,c){return[1/3*e+2/3*t,1/3*n+2/3*r,1/3*a+2/3*t,1/3*c+2/3*r,a,c]}function a(e,n,t,r,c,o,s,i,l,u){var y,f=120*d/180,p=d/180*(+c||0),h=[],x=function(e,n,t){function r(){var a=Array.prototype.slice.call(arguments,0),c=a.join("␀"),o=r.cache=r.cache||{},s=r.count=r.count||[];return o[g](c)?(function(e,n){for(var t=0,r=e.length;t<r;t++)if(e[t]===n)return e.push(e.splice(t,1)[0])}(s,c),t?t(o[c]):o[c]):(s.length>=1e3&&delete o[s.shift()],s.push(c),o[c]=e.apply(n,a),t?t(o[c]):o[c])}return r}(function(e,n,t){return{x:e*M.cos(t)-n*M.sin(t),y:e*M.sin(t)+n*M.cos(t)}});if(u)U=u[0],j=u[1],m=u[2],S=u[3];else{e=(y=x(e,n,-p)).x,n=y.y,i=(y=x(i,l,-p)).x,l=y.y;M.cos(d/180*c),M.sin(d/180*c);var b=(e-i)/2,v=(n-l)/2,C=b*b/(t*t)+v*v/(r*r);C>1&&(t*=C=M.sqrt(C),r*=C);var k=t*t,w=r*r,A=(o==s?-1:1)*M.sqrt(q((k*w-k*v*v-w*b*b)/(k*v*v+w*b*b))),m=A*t*v/r+(e+i)/2,S=A*-r*b/t+(n+l)/2,U=M.asin(((n-S)/r).toFixed(9)),j=M.asin(((l-S)/r).toFixed(9));U=e<m?d-U:U,j=i<m?d-j:j,U<0&&(U=2*d+U),j<0&&(j=2*d+j),s&&U>j&&(U-=2*d),!s&&j>U&&(j-=2*d)}var O=j-U;if(q(O)>f){var L=j,z=i,F=l;j=U+f*(s&&j>U?1:-1),h=a(i=m+t*M.cos(j),l=S+r*M.sin(j),t,r,c,0,s,z,F,[j,L,m,S])}O=j-U;var R=M.cos(U),T=M.sin(U),X=M.cos(j),Y=M.sin(j),H=M.tan(O/4),P=4/3*t*H,Q=4/3*r*H,V=[e,n],Z=[e+P*T,n-Q*R],I=[i+P*Y,l-Q*X],$=[i,l];if(Z[0]=2*V[0]-Z[0],Z[1]=2*V[1]-Z[1],u)return[Z,I,$].concat(h);for(var B=[],D=0,E=(h=[Z,I,$].concat(h).join().split(",")).length;D<E;D++)B[D]=D%2?x(h[D-1],h[D],p).y:x(h[D],h[D+1],p).x;return B}function c(){return this.join(",").replace(C,"$1")}function o(e,n){for(var t=[],r=0,a=e.length;a-2*!n>r;r+=2){var c=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];n?r?a-4==r?c[3]={x:+e[0],y:+e[1]}:a-2==r&&(c[2]={x:+e[0],y:+e[1]},c[3]={x:+e[2],y:+e[3]}):c[0]={x:+e[a-2],y:+e[a-1]}:a-4==r?c[3]=c[2]:r||(c[0]={x:+e[r],y:+e[r+1]}),t.push(["C",(-c[0].x+6*c[1].x+c[2].x)/6,(-c[0].y+6*c[1].y+c[2].y)/6,(c[1].x+6*c[2].x-c[3].x)/6,(c[1].y+6*c[2].y-c[3].y)/6,c[2].x,c[2].y])}return t}function s(e,n){return"finite"==(n=k.prototype.toLowerCase.call(n))?isFinite(e):!("array"!=n||!(e instanceof Array||Array.isArray&&Array.isArray(e)))||("null"==n&&null===e||n==typeof e&&null!==e||"object"==n&&e===Object(e)||w.call(e).slice(8,-1).toLowerCase()==n)}function i(e){if("function"==typeof e||Object(e)!==e)return e;var n=new e.constructor;for(var t in e)e[g](t)&&(n[t]=i(e[t]));return n}function l(e){var n=i(e);return n.toString=c,n}function u(e){var n=u.ps=u.ps||{};return n[e]?n[e].sleep=100:n[e]={sleep:100},setTimeout(function(){for(var t in n)n[g](t)&&t!=e&&(n[t].sleep--,!n[t].sleep&&delete n[t])}),n[e]}function y(e,n,t,r,a){if(null==a&&null==r&&(r=t),e=+e,n=+n,t=+t,r=+r,null!=a)var o=Math.PI/180,s=e+t*Math.cos(-r*o),i=e+t*Math.cos(-a*o),l=[["M",s,n+t*Math.sin(-r*o)],["A",t,t,0,+(a-r>180),0,i,n+t*Math.sin(-a*o)]];else l=[["M",e,n],["m",0,-r],["a",t,r,0,1,1,0,2*r],["a",t,r,0,1,1,0,-2*r],["z"]];return l.toString=c,l}function f(e){var n=u(e);if(n.abs)return l(n.abs);if(s(e,"array")&&s(e&&e[0],"array")||(e=function(e){if(!e)return null;var n=u(e);if(n.arr)return i(n.arr);var t={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return s(e,"array")&&s(e[0],"array")&&(r=i(e)),r.length||k(e).replace(b,function(e,n,a){var c=[],o=n.toLowerCase();if(a.replace(v,function(e,n){n&&c.push(+n)}),"m"==o&&c.length>2&&(r.push([n].concat(c.splice(0,2))),o="l",n="m"==n?"l":"L"),"o"==o&&1==c.length&&r.push([n,c[0]]),"r"==o)r.push([n].concat(c));else for(;c.length>=t[o]&&(r.push([n].concat(c.splice(0,t[o]))),t[o]););}),r.toString=c,n.arr=i(r),r}(e)),!e||!e.length)return[["M",0,0]];var t,r=[],a=0,f=0,p=0,h=0,x=0;"M"==e[0][0]&&(p=a=+e[0][1],h=f=+e[0][2],x++,r[0]=["M",a,f]);for(var g,C,M=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),d=x,q=e.length;d<q;d++){if(r.push(g=[]),C=e[d],(t=C[0])!=t.toUpperCase())switch(g[0]=t.toUpperCase(),g[0]){case"A":g[1]=C[1],g[2]=C[2],g[3]=C[3],g[4]=C[4],g[5]=C[5],g[6]=+C[6]+a,g[7]=+C[7]+f;break;case"V":g[1]=+C[1]+f;break;case"H":g[1]=+C[1]+a;break;case"R":for(var w=[a,f].concat(C.slice(1)),A=2,m=w.length;A<m;A++)w[A]=+w[A]+a,w[++A]=+w[A]+f;r.pop(),r=r.concat(o(w,M));break;case"O":r.pop(),(w=y(a,f,C[1],C[2])).push(w[0]),r=r.concat(w);break;case"U":r.pop(),r=r.concat(y(a,f,C[1],C[2],C[3])),g=["U"].concat(r[r.length-1].slice(-2));break;case"M":p=+C[1]+a,h=+C[2]+f;default:for(A=1,m=C.length;A<m;A++)g[A]=+C[A]+(A%2?a:f)}else if("R"==t)w=[a,f].concat(C.slice(1)),r.pop(),r=r.concat(o(w,M)),g=["R"].concat(C.slice(-2));else if("O"==t)r.pop(),(w=y(a,f,C[1],C[2])).push(w[0]),r=r.concat(w);else if("U"==t)r.pop(),r=r.concat(y(a,f,C[1],C[2],C[3])),g=["U"].concat(r[r.length-1].slice(-2));else for(var S=0,U=C.length;S<U;S++)g[S]=C[S];if("O"!=(t=t.toUpperCase()))switch(g[0]){case"Z":a=+p,f=+h;break;case"H":a=g[1];break;case"V":f=g[1];break;case"M":p=g[g.length-2],h=g[g.length-1];default:a=g[g.length-2],f=g[g.length-1]}}return r.toString=c,n.abs=l(r),r}function p(n,t){var c=!t&&u(n);if(!t&&c.curve)return l(c.curve);for(var o=f(n),s=t&&f(t),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},y={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},p=function(n,t,c){var o,s;if(!n)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(n[0]in{T:1,Q:1})&&(t.qx=t.qy=null),n[0]){case"M":t.X=n[1],t.Y=n[2];break;case"A":n=["C"].concat(a.apply(0,[t.x,t.y].concat(n.slice(1))));break;case"S":"C"==c||"S"==c?(o=2*t.x-t.bx,s=2*t.y-t.by):(o=t.x,s=t.y),n=["C",o,s].concat(n.slice(1));break;case"T":"Q"==c||"T"==c?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),n=["C"].concat(r(t.x,t.y,t.qx,t.qy,n[1],n[2]));break;case"Q":t.qx=n[1],t.qy=n[2],n=["C"].concat(r(t.x,t.y,n[1],n[2],n[3],n[4]));break;case"L":n=["C"].concat(e(t.x,t.y,n[1],n[2]));break;case"H":n=["C"].concat(e(t.x,t.y,n[1],t.y));break;case"V":n=["C"].concat(e(t.x,t.y,t.x,n[1]));break;case"Z":n=["C"].concat(e(t.x,t.y,t.X,t.Y))}return n},g=function(e,n){if(e[n].length>7){e[n].shift();for(var t=e[n];t.length;)v[n]="A",s&&(C[n]="A"),e.splice(n++,0,["C"].concat(t.splice(0,6)));e.splice(n,1),k=h(o.length,s&&s.length||0)}},b=function(e,n,t,r,a){e&&n&&"M"==e[a][0]&&"M"!=n[a][0]&&(n.splice(a,0,["M",r.x,r.y]),t.bx=0,t.by=0,t.x=e[a][1],t.y=e[a][2],k=h(o.length,s&&s.length||0))},v=[],C=[],M="",d="",q=0,k=h(o.length,s&&s.length||0);q<k;q++){o[q]&&(M=o[q][0]),"C"!=M&&(v[q]=M,q&&(d=v[q-1])),o[q]=p(o[q],i,d),"A"!=v[q]&&"C"==M&&(v[q]="C"),g(o,q),s&&(s[q]&&(M=s[q][0]),"C"!=M&&(C[q]=M,q&&(d=C[q-1])),s[q]=p(s[q],y,d),"A"!=C[q]&&"C"==M&&(C[q]="C"),g(s,q)),b(o,s,i,y,q),b(s,o,y,i,q);var w=o[q],A=s&&s[q],m=w.length,S=s&&A.length;i.x=w[m-2],i.y=w[m-1],i.bx=x(w[m-4])||i.x,i.by=x(w[m-3])||i.y,y.bx=s&&(x(A[S-4])||y.x),y.by=s&&(x(A[S-3])||y.y),y.x=s&&A[S-2],y.y=s&&A[S-1]}return s||(c.curve=l(o)),s?[o,s]:o}var h=Math.max,x=parseFloat,g="hasOwnProperty",b=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,v=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/gi,C=/,?([a-z]),?/gi,M=Math,d=M.PI,h=(M.min,M.max),q=(M.pow,M.abs),k=String,w=Object.prototype.toString;t.d=function(e){return p(e).toString()},"undefined"!=typeof module&&(module.exports=t),"undefined"!=typeof window&&(window.cubify=t)}();
